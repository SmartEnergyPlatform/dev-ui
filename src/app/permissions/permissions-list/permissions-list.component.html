<!--
  ~
  ~     Copyright 2018 InfAI (CC SES)
  ~
  ~     Licensed under the Apache License, Version 2.0 (the “License”);
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an “AS IS” BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~
  -->

<section *ngIf="userIsAdmin" class="outer">
  <mat-table matSort #table (matSortChange)="sortData($event)" [dataSource]="sortedData">

      <!-- Name Column -->
      <ng-container matColumnDef="subject">
          <mat-header-cell mat-sort-header="subject" *matHeaderCellDef>Subject</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.subject}}</mat-cell>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="actions">
          <mat-header-cell mat-sort-header="actions" *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.actions}}</mat-cell>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="resource">
          <mat-header-cell mat-sort-header="resource" *matHeaderCellDef>Resource</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.resource}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="delete">
          <mat-header-cell mat-sort-header="delete" *matHeaderCellDef> Delete </mat-header-cell>
          <mat-cell *matCellDef="let element">
              <button (click)="deletePolicy(element)"><i class="material-icons" >delete</i></button>
          </mat-cell>
      </ng-container>

      <ng-container matColumnDef="edit">
          <mat-header-cell mat-sort-header="edit" *matHeaderCellDef> Edit </mat-header-cell>
          <mat-cell *matCellDef="let element">
              <button (click)="editPolicy(element)"><i class="material-icons" >edit</i></button>
          </mat-cell>
      </ng-container>

      <mat-header-row mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row mat-row *matRowDef="let row; columns: displayedColumns;"> </mat-row>

    </mat-table>
    <button color="primary" mat-raised-button style="width: 100%; margin-bottom: 5%;" (click)="createPolicy()">Policy erstellen</button>
</section>